<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Matlab Coding Style | Xiaofeng QU</title>
  <meta name="author" content="Xiaofeng QU">
  
  <meta name="description" content="A formal, informative and elegant coding style for matlab codes.">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="Matlab Coding Style"/>
  <meta property="og:site_name" content="Xiaofeng QU"/>

  
    <meta property="og:image" content="undefined"/>
  

  <!-- Icons -->
  <!-- 16x16 -->
  <link rel="shortcut icon" href="/favicon.ico">
  <!-- 32x32 -->
  <link rel="shortcut icon" href="/favicon.png">
  <!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
  <link rel="apple-touch-icon-precomposed" href="/apple-icon-57.png">
  <!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-icon-72.png">
  <!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-icon-114.png">
  <!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-icon-144.png">


  <link rel="alternate" href="/atom.xml" title="Xiaofeng QU" type="application/atom+xml">
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-50831338-X']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>

<body>
  <header id="header" class='normal_mode'>
    <nav id="main-nav">
  <ul class='container'>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/research">Research</a></li>
    
      <li><a href="/links">Links</a></li>
    
      <li><a href="/about">About</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
  </header>
  <div id="content" class="container">
    <article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      
      <time datetime="2014-03-01T16:00:00.000Z"><a href="/2014/matlab-coding-style/">Sunday, Mar 2 2014, 12:00:00</a></time>

  
    <h1 class="title">Matlab Coding Style</h1>
  


  
  <div class="categories">
  	<i class="fa fa-folder-open"></i>
    <a href="/categories/coding/">coding</a>
  </div>


  
  <div class="tags">
  	<i class="fa fa-tag"></i>
    <a href="/tags/matlab/">matlab</a>, <a href="/tags/coding/">coding</a>
  </div>

<div class="clear"></div>
      
    </header>
    <div class="entry">
      
        <p>A formal, informative and elegant coding style for matlab codes.</p>
<a id="more"></a>

<h2 id="Coding_Style">Coding Style</h2>
<h4 id="Help_Comment">Help Comment</h4>
<pre><code><span class="tag">%<span class="title">ONE</span></span> Complete help comment of function.
<span class="tag">%</span>   debug_state = CheckDebugStatus(debug_state) parse a general debug
<span class="tag">%</span>   description to a standard logical value.
<span class="tag">%</span>
<span class="tag">%</span>
<span class="tag">%</span>   It returns true (in a debugging state) if the input is
<span class="tag">%</span>      1, true, 'debug', 'test'.
<span class="tag">%</span>   It returns false (in a non-debugging state) if the input is
<span class="tag">%</span>      0, false, 'release', 'run'.
<span class="tag">%</span>   Default (blank) input leads to false. (Not debugging)
<span class="tag">%</span>
<span class="tag">%</span>
<span class="tag">%</span>   After using this function, debug related code in scripts and functions
<span class="tag">%</span>   can be simply surrounded by
<span class="tag">%</span>
<span class="tag">%</span>       if debug_state
<span class="tag">%</span>           ...
<span class="tag">%</span>       end
<span class="tag">%</span>
<span class="tag">%</span>
<span class="tag">%</span>   In addition, the function using CheckDebugStatus can be formatted as
<span class="tag">%</span>
<span class="tag">%</span>      function [ result ] = Test(vars, debug)
<span class="tag">%</span>
<span class="tag">%</span>          debug = CheckDebugStatus( debug );
<span class="tag">%</span>
<span class="tag">%</span>          if debug
<span class="tag">%</span>              display 'debugging';
<span class="tag">%</span>              result = 'debugging';
<span class="tag">%</span>          else
<span class="tag">%</span>              result = 'running';
<span class="tag">%</span>          end
<span class="tag">%</span>          display(result);
<span class="tag">%</span>      end
<span class="tag">%</span>
<span class="tag">%</span>   For more information, see &lt;a href="matlab:
<span class="tag">%</span>   web('https://github.com/quxiaofeng/balance')"&gt;balance&lt;/a&gt;.
</code></pre><h2 id="Debug_State_in_Balance_(GitHub)">Debug State in Balance (<a href="https://github.com/quxiaofeng/balance" target="_blank">GitHub</a>)</h2>
<p>Using this <strong>CheckDebugState</strong> function, the debugging code can be separated from general code.</p>
<pre><code>    It returns <span class="keyword">true</span> (<span class="keyword">in</span> a debugging state) <span class="keyword">if</span> the input <span class="keyword">is</span>
        <span class="number">1</span>, <span class="keyword">true</span>, <span class="string">'debug'</span>, <span class="string">'test'</span>.
    It returns <span class="keyword">false</span> (<span class="keyword">in</span> a non-debugging state) <span class="keyword">if</span> the input <span class="keyword">is</span>
        <span class="number">0</span>, <span class="keyword">false</span>, <span class="string">'release'</span>, <span class="string">'run'</span>.
    <span class="keyword">Default</span> (blank) input leads <span class="keyword">to</span> <span class="keyword">false</span>. (<span class="keyword">Not</span> debugging)


<span class="function"><span class="keyword">function</span> [ <span class="title">result</span> ] = <span class="title">Test</span><span class="params">(vars, debug)</span>

    <span class="title">debug</span> = <span class="title">CheckDebugStatus</span><span class="params">( debug )</span>;</span>

    <span class="keyword">if</span> debug
        display <span class="string">'debugging'</span>;
        <span class="keyword">result</span> = <span class="string">'debugging'</span>;
    <span class="keyword">else</span>
        <span class="keyword">result</span> = <span class="string">'running'</span>;
    <span class="keyword">end</span>

    display(<span class="keyword">result</span>);
<span class="keyword">end</span>
</code></pre><h2 id="Books">Books</h2>
<p><strong>Richard Johnson</strong> has published a <a href="http://www.cambridge.org/us/knowledge/isbn/item5745060/?site_locale=en_US" target="_blank">book</a> <strong>“The Elements of MATLAB Style”</strong> (also see <a href="https://sites.google.com/site/matlabstyleguidelines/" target="_blank">wiki</a>) 2010.</p>
<figure><br>  <img src="http://i.stack.imgur.com/CpCOr.jpg"><br>  <figcaption><br>  The Elements of MATLAB Style<br>  </figcaption><br></figure>

<p>Table of Contents</p>
<ol>
<li>General principles</li>
<li>Formatting</li>
<li>Naming</li>
<li>Documentation</li>
<li>Programming</li>
<li>Files and organization</li>
<li>Development</li>
</ol>
<p>Loren has a blog entry with the <a href="http://blogs.mathworks.com/loren/2011/02/10/book-review-the-elements-of-matlab-style/" target="_blank">review of the book</a>. I will just follow here line of comments:</p>
<p><strong>7</strong>. Split Long Code Lines at Graceful Points</p>
<p>I find this one useful as it is a total pain having to trail far off to the right in any editor, even though it is possible.</p>
<p><strong>10</strong>. Do Not Use Hard Tabs</p>
<p>This helps keep sanity when working among a group with possibly different editing environments.</p>
<p><strong>43</strong>. Use Meaningful Names for Variables with a Large Scope</p>
<p>This makes code much easier to read, understand, and debug, if necessary.</p>
<p><strong>69</strong>. Name Functions for What They Do</p>
<p>Since functions perform an action, the name should include information about the action.</p>
<p><strong>86</strong>. Use Sortable Numbering in Data Filesnames</p>
<p>If you have many similar files of data, having a rational numbering scheme can only help you out. </p>
<p><strong>97</strong>. Be Sure That Comments Agree with the Code</p>
<p>I will never forget the time that my thesis advisor called me because he was really irritated. I had left him a copy of a Fortran program that had copious comments, the final one being “Ignore all the comments above; they were for a previous version.”</p>
<p><strong>135</strong>. Avoid Cryptic Code</p>
<p>I have found that generally, writing cryptic code buys less than I expect in terms of good things, and more headaches than it warrants. On occasion, I have used cryptic code for performance in something time-critical. When I do, I try to comment it fully, including a straight-forward implementation in the comments which I have tested. That way, when the performance trade-offs change, I understand what the code is supposed to do and have two starting options for doing a code update.</p>
<p><strong>150</strong>, <strong>151</strong>. Minimize the Use of Global Variables and Minimize the Use of Global Constants</p>
<p>I would say this even more strongly myself. There are superior techniques for dealing with information you want to share, whether they be function handles, classes and their properties, or some other methods. These techniques are much safer to use for many reasons - e.g., more easily controlled side effects, should any be desired, and code becomes more suitable for parallelism potentially.</p>
<p><strong>172</strong>. Use Parenthese</p>
<p>Clarity of meaning is paramount, especially if others need to understand, modify, or translate the code.</p>
<p><strong>176</strong>. Avoid Use of eval When Possible</p>
<p>I’m sure it doesn’t seem so to some MATLAB users, but eval is avoidable most of the time.</p>
<p><strong>185</strong>-<strong>188</strong>. The first of these is Avoid Complicated Conditional Expressions</p>
<p>These entries contain some useful thoughts on dealing with conditional constructs, the ordering of the cases, etc.</p>
<p><strong>271</strong>-<strong>275</strong>. The first of these is Write Small Tests</p>
<p>I love that Richard has made testing a central tenet of this style guide. I don’t see how programmers function well without a robust test suite.</p>
<ul>
<li><a href="http://stackoverflow.com/questions/17453244/modern-matlab-codestyle-what-is-missing" target="_blank">Modern MATLAB codestyle: what is missing?</a> in <a href="http://stackoverflow.com/" target="_blank">StackOverflow</a></li>
</ul>
<h2 id="References">References</h2>
<ul>
<li><a href="http://matlab.wikia.com/wiki/FAQ" target="_blank">MATLAB Wiki</a> - <a href="http://www.mit.edu/~pwb/cssm/GMPP.pdf" target="_blank">GMPP</a></li>
<li><a href="http://4dpiecharts.com/matlab-code-style-guide/" target="_blank">MATLAB code style guide</a></li>
<li><a href="http://www.cs.cornell.edu/courses/cs99/2002fa/matlabstyle.html" target="_blank">MATLAB Style Guide</a></li>
<li><a href="http://www.ee.columbia.edu/~marios/matlab/matlab_tricks.html" target="_blank">matlab tips and tricks and …</a> by <a href="http://www.ee.columbia.edu/~marios/" target="_blank">marios athineos</a></li>
<li><a href="http://www.mathworks.com/matlabcentral/fileexchange/2529-matlab-programming-style-guidelines" target="_blank">MATLAB Programming Style Guidelines</a></li>
<li><a href="http://www.mathworks.com/matlabcentral/fileexchange/5642-matlab-tips-tricks" target="_blank">MATLAB Tips &amp; Tricks</a></li>
</ul>

      
    </div>
    <footer>
      
          

          <div class="clearfix"></div>
          <nav id="pagination">
  
    <a href="/2014/git-note/" class="alignleft prev"><i class="fa fa-long-arrow-left"></i>Next</a>
  
  
    <a href="/2014/swig-example/" class="alignright next">Prev<i class="fa fa-long-arrow-right"></i></a>
  
  <div class="clearfix"></div>
</nav>
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">Comments</h1>

  
      <!-- Duoshuo Comment BEGIN -->
<div class="ds-thread" data-thread-key="/2014/matlab-coding-style/"></div>
<!-- Duoshuo Comment END -->
  
</section>




    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div>
  
  &copy; 2012-2014 Xiaofeng QU
  
</div>
Powered by <a href="http://zespia.tw/hexo/" title="Hexo" target="_blank" rel="external">Hexo</a> and <a href="http://pages.github.com/" title="GitHub Pages" target="_blank" rel="external">GitHub Pages</a>

<div class="clearfix"></div>
</footer>
  
<script type="text/javascript" src="/js/jquery.imagesloaded.min.js"></script>
<script type="text/javascript" src="/js/gallery.js"></script>
<script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>


<script type="text/javascript">
var disqus_shortname = 'hexocsxfqutk';

(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>



    <script type="text/javascript">
        (function(){

            $(window).scroll(function(){

                var scrollTop = $(window).scrollTop();
                if ( scrollTop >200 ){
                    $("#main-nav").removeClass('normal_mode').addClass('top_mode');
                } else{
                    $("#main-nav").removeClass('top_mode').addClass('normal_mode');
                }

            });

        })();
    </script>



  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript">
  (function($){
    $('.fancybox').fancybox({
      'titlePosition': 'inside'
    });
  })(jQuery);
  </script>



    
    <script type="text/javascript">
      var duoshuoQuery = {short_name:"csxfqutk"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = 'http://static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0] 
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>



<script type="text/javascript">
  
  $(function(){

    $('.title').hover(
      function() {      
        $(this).stop().animate(
          {'marginLeft': '10px'}, 200
        );   
      }, 
      function() {       
        $(this).stop().animate({'marginLeft': '0px'}, 200);      
      
    });   

  });

</script>


</body>
</html>